(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){t.exports={navigation:"styles_navigation__2uQRf"}},67:function(t,e,n){t.exports={navigation:"styles_navigation__346x3"}},68:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(14),o=n.n(a),c=n(29),i=n(5),u=n(10),s=n(28),l=(n(33),n(11)),f=n(36),d=n.n(f),v=n(34),h=n(9),p="SET_DATA",m="SET_TEXT",g="SET_XY";var x={};function y(t,e){var n=e.data;return Object(h.a)(Object(h.a)({},t),{},{data:n})}function b(t,e){var n=e.text;return Object(h.a)(Object(h.a)({},t),{},{text:n})}function j(t,e){var n=e.xy;return Object(h.a)(Object(h.a)({},t),{},{xy:n})}var w={getDATA:function(){return function(t,e){fetch("/crawl/getData/",{}).then((function(t){return t.json()})).then((function(e){t({type:p,data:e})})).catch((function(t){return console.log(t)}))}},getXY:function(){return function(t,e){fetch("/crawl/getXY/",{}).then((function(t){return t.json()})).then((function(e){t({type:g,xy:e})})).catch((function(t){return console.log(t)}))}},getTEXT:function(){return function(t,e){fetch("/crawl/getToWrite/",{}).then((function(t){return t.json()})).then((function(e){t({type:m,text:e})})).catch((function(t){return console.log(t)}))}},postXY:function(t){var e=function(t){var e=null;if(document.cookie){var n=document.cookie.split(escape(t)+"=");if(n.length>=2){var r=n[1].split(";");e=unescape(r[0])}}return e}("csrftoken");return function(n,r){fetch("/crawl/setsoheeXY/",{method:"POST",headers:{"X-CSRFTOKEN":e,"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(t){}))}}},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return y(t,e);case m:return b(t,e);case g:return j(t,e);default:return t}},T=n(35),S=d()(),X=[v.a,Object(s.a)(S)];console.log(S);var E=Object(u.combineReducers)({data:O,i18nState:T.i18nState,router:Object(l.b)(S)}),P=function(t){return Object(u.createStore)(E,u.applyMiddleware.apply(void 0,X))}(),M=(n(63),n(8)),D=(n(64),n(15)),Y=n(16),k=n(18),A=n(17),_=(n(65),n(1)),R=function(t,e){return Object(_.jsx)("div",{children:Object(_.jsx)("canvas",{})})},C=(n.p,function(t){Object(k.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(D.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={loading:!0,loading2:!0,idx:1,page:[1],maxpage:0},t.componentWillReceiveProps=function(e){t.props.data;e.data&&e.xy&&t.draw(e.data,e.xy)},t}return Object(Y.a)(n,[{key:"draw",value:function(t,e){var n=document.getElementsByTagName("canvas")[0];n.width=document.body.clientWidth,n.height=window.innerHeight;for(var r=new Array,a=0;a<t.length;a++)r[a]=new Image,r[a].src=t[a].image;console.log(r);var o="",c=!0,i=n.getContext("2d");!function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=e.createSVGMatrix();t.getTransform=function(){return n};var r=[],a=t.save;t.save=function(){return r.push(n.translate(0,0)),a.call(t)};var o=t.restore;t.restore=function(){return n=r.pop(),o.call(t)};var c=t.scale;t.scale=function(e,r){return n=n.scaleNonUniform(e,r),c.call(t,e,r)};var i=t.rotate;t.rotate=function(e){return n=n.rotate(180*e/Math.PI),i.call(t,e)};var u=t.translate;t.translate=function(e,r){return n=n.translate(e,r),u.call(t,e,r)};var s=t.transform;t.transform=function(r,a,o,c,i,u){var l=e.createSVGMatrix();return l.a=r,l.b=a,l.c=o,l.d=c,l.e=i,l.f=u,n=n.multiply(l),s.call(t,r,a,o,c,i,u)};var l=t.setTransform;t.setTransform=function(e,r,a,o,c,i){return n.a=e,n.b=r,n.c=a,n.d=o,n.e=c,n.f=i,l.call(t,e,r,a,o,c,i)};var f=e.createSVGPoint();t.transformedPoint=function(t,e){return f.x=t,f.y=e,f.matrixTransform(n.inverse())}}(i);var u=i.scale,s=[],l=[],f=[],d=[],v=0,h=0,p=0;function m(){var a=i.transformedPoint(0,0),o=i.transformedPoint(n.width,n.height);if(i.clearRect(a.x,a.y,o.x-a.x,o.y-a.y),c){for(var m=0;m<e.length;m++){s.push([e[m].x,e[m].y]),l.push(e[m].x),f.push(e[m].y);var g=j(0,t.length-1);d.push(g)}var x=Math.max.apply(null,l),y=Math.max.apply(null,f),b=Math.min.apply(null,f);v=document.body.clientHeight-(y*(3e3/x*(document.body.clientWidth/3168))+b*(3e3/x*(document.body.clientWidth/3168)))-50,c=!1,u=3e3/x*(document.body.clientWidth/3168),u,h=s[0][0]*u,p=s[0][1]*u}function j(t,e){return Math.floor(Math.random()*(e-t+1))+t}for(i.clearRect(a.x,a.y,o.x-a.x,o.y-a.y),m=0;m<s.length;m++)i.drawImage(r[d[m]],s[m][0]*u,s[m][1]*u+v/2,u,u)}n.addEventListener("dblclick",(function(){n.getBoundingClientRect();for(var e=i.transformedPoint(x,y),r=0;r<s.length;r++)e.x<s[r][0]*u+u&&e.x>s[r][0]*u&&e.y<s[r][1]*u+v/2+u&&e.y>s[r][1]*u+v/2&&window.open(t[d[r]].url,"_blank")}));var g,x=n.width/2,y=n.height/2;n.addEventListener("mousedown",(function(t){document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",x=t.offsetX||t.pageX-n.offsetLeft,y=t.offsetY||t.pageY-n.offsetTop,g=i.transformedPoint(x,y),x-h,y-p,!1}),!1),n.addEventListener("mousemove",(function(t){if(x=t.offsetX||t.pageX-n.offsetLeft,y=t.offsetY||t.pageY-n.offsetTop,!0,g){var e=i.transformedPoint(x,y);i.translate(e.x-g.x,e.y-g.y),m(),clearTimeout(o)}}),!1),n.addEventListener("mouseup",(function(t){g=null}),!1);var b=function(t){var e=t.wheelDelta?t.wheelDelta/40:t.detail?-t.detail:0;return e&&function(t){var e=i.transformedPoint(x,y);i.translate(e.x,e.y);var n=Math.pow(1.1,t);n,i.scale(n,n),i.translate(-e.x,-e.y),m(),clearTimeout(o)}(e),clearTimeout(o),t.preventDefault()&&!1};n.addEventListener("DOMMouseScroll",b,!1),n.addEventListener("mousewheel",b,!1),m(),o=setTimeout(m,500)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.getData;(0,t.getXY)(),e()}},{key:"render",value:function(){return Object(_.jsx)(R,{})}}]),n}(r.Component)),L=Object(i.connect)((function(t,e){var n=t.data;return{data:n.data,text:n.text,xy:n.xy,location:t.router.location}}),(function(t,e){return{getData:function(){t(w.getDATA())},getText:function(){t(w.getTEXT())},getXY:function(){t(w.getXY())}}}))(C),N=(n(67),function(t,e){return Object(_.jsx)("div",{children:Object(_.jsx)("canvas",{})})}),W=(n.p,function(t){Object(k.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(D.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={loading:!0,loading2:!0,idx:1,page:[1],maxpage:0},t.componentWillReceiveProps=function(e){t.props.data,t.props.postXY;e.data&&e.text&&t.draw(e.data,e.text)},t}return Object(Y.a)(n,[{key:"draw",value:function(t,e){var n=this.props.postXY,r=document.getElementsByTagName("canvas")[0];r.width=document.body.clientWidth,r.height=window.innerHeight;for(var a=new Array,o=0;o<t.length;o++)a[o]=new Image,a[o].src=t[o].image;var c=!0,i=r.getContext("2d");!function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=e.createSVGMatrix();t.getTransform=function(){return n};var r=[],a=t.save;t.save=function(){return r.push(n.translate(0,0)),a.call(t)};var o=t.restore;t.restore=function(){return n=r.pop(),o.call(t)};var c=t.scale;t.scale=function(e,r){return n=n.scaleNonUniform(e,r),c.call(t,e,r)};var i=t.rotate;t.rotate=function(e){return n=n.rotate(180*e/Math.PI),i.call(t,e)};var u=t.translate;t.translate=function(e,r){return n=n.translate(e,r),u.call(t,e,r)};var s=t.transform;t.transform=function(r,a,o,c,i,u){var l=e.createSVGMatrix();return l.a=r,l.b=a,l.c=o,l.d=c,l.e=i,l.f=u,n=n.multiply(l),s.call(t,r,a,o,c,i,u)};var l=t.setTransform;t.setTransform=function(e,r,a,o,c,i){return n.a=e,n.b=r,n.c=a,n.d=o,n.e=c,n.f=i,l.call(t,e,r,a,o,c,i)};var f=e.createSVGPoint();t.transformedPoint=function(t,e){return f.x=t,f.y=e,f.matrixTransform(n.inverse())}}(i);i.scale;var u=[],s=[],l=[];function f(t){var e=i.transformedPoint(0,0),a=i.transformedPoint(r.width,r.height);i.clearRect(e.x,e.y,a.x-e.x,a.y-e.y),i.font="70px Calibri",i.fillText(t,0,70,1e3);var o=new Array;if(c){for(var f=0;f<1e3;f++)for(var d=0;d<1e3;d++)if(255==i.getImageData(f,d,1,1).data[3]){var v=new Object;v.x=f;v.y=d,o.push(v),u.push([f,d]),s.push(f),l.push(d)}n(o),c=!1}}f(e.text),f("\uc138\ud305 \uc644\ub8cc")}},{key:"componentDidMount",value:function(){var t=this.props,e=t.getData;(0,t.getText)(),e()}},{key:"render",value:function(){return Object(_.jsx)(N,{})}}]),n}(r.Component)),I=Object(i.connect)((function(t,e){var n=t.data;return{data:n.data,text:n.text,location:t.router.location}}),(function(t,e){return{getData:function(){t(w.getDATA())},getText:function(){t(w.getTEXT())},postXY:function(e){t(w.postXY(e))}}}))(W),G=function(t){return Object(_.jsxs)(M.c,{children:[Object(_.jsx)(M.a,{exact:!0,path:"/setting",component:I}),Object(_.jsx)(M.a,{path:"/",component:L})]})},V=Object(M.e)(Object(i.connect)()((function(t){return[Object(_.jsx)(G,{},1)]}))),U=function(t){return Object(_.jsx)(V,Object(h.a)({},t))},B=Object(i.connect)((function(t,e){return{pathname:t.router.location.pathname}}))(U);o.a.render(Object(_.jsxs)(i.Provider,{store:P,children:[Object(_.jsxs)(c.a,{children:[Object(_.jsx)("title",{children:"0isohee.com"}),Object(_.jsx)("meta",{name:"description",content:"0isohee","data-react-helmet":"true"})]}),Object(_.jsx)(l.a,{history:S,children:Object(_.jsx)(B,{})})]}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.72ae9ea4.chunk.js.map