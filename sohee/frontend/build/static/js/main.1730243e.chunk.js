(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){t.exports={navigation:"styles_navigation__2uQRf"}},67:function(t,e,n){t.exports={navigation:"styles_navigation__346x3"}},68:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(14),o=n.n(r),c=n(29),i=n(5),s=n(10),u=n(28),l=(n(33),n(11)),f=n(36),d=n.n(f),v=n(34),p=n(9),h="SET_DATA",g="SET_TEXT",m="SET_XY";var x={};function b(t,e){var n=e.data;return Object(p.a)(Object(p.a)({},t),{},{data:n})}function j(t,e){var n=e.text;return Object(p.a)(Object(p.a)({},t),{},{text:n})}function y(t,e){var n=e.data;return Object(p.a)(Object(p.a)({},t),{},{data:n})}var w={getDATA:function(){return function(t,e){fetch("/crawl/getData/",{}).then((function(t){return t.json()})).then((function(e){t({type:h,data:e})})).catch((function(t){return console.log(t)}))}},getTEXT:function(){return function(t,e){fetch("/crawl/getToWrite/",{}).then((function(t){return t.json()})).then((function(e){t({type:g,text:e})})).catch((function(t){return console.log(t)}))}},postXY:function(t){return console.log("dd"),function(e,n){console.log("ddddddd"),console.log(document.cookie),fetch("/crawl/setsoheeXY/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({data:t})}).then((function(t){return t.json()})).then((function(t){t.message&&console.log(t.message)}))}}},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return b(t,e);case g:return j(t,e);case m:return y(t,e);default:return t}},T=n(35),S=d()(),E=[v.a,Object(u.a)(S)];console.log(S);var P=Object(s.combineReducers)({data:O,i18nState:T.i18nState,router:Object(l.b)(S)}),D=function(t){return Object(s.createStore)(P,s.applyMiddleware.apply(void 0,E))}(),M=(n(63),n(8)),A=(n(64),n(15)),X=n(16),k=n(18),Y=n(17),_=(n(65),n(1)),C=function(t,e){return Object(_.jsx)("div",{children:Object(_.jsx)("canvas",{})})},I=(n.p,function(t){Object(k.a)(n,t);var e=Object(Y.a)(n);function n(){var t;Object(A.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={loading:!0,loading2:!0,idx:1,page:[1],maxpage:0},t.componentWillReceiveProps=function(e){t.props.data;e.data&&e.text&&(console.log(e.data),t.draw(e.data,e.text))},t}return Object(X.a)(n,[{key:"draw",value:function(t,e){var n=document.getElementsByTagName("canvas")[0];n.width=document.body.clientWidth,n.height=window.innerHeight;for(var a=new Array,r=0;r<t.length;r++)a[r]=new Image,a[r].src=t[r].image;console.log(a);var o="",c=!0,i=n.getContext("2d");!function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=e.createSVGMatrix();t.getTransform=function(){return n};var a=[],r=t.save;t.save=function(){return a.push(n.translate(0,0)),r.call(t)};var o=t.restore;t.restore=function(){return n=a.pop(),o.call(t)};var c=t.scale;t.scale=function(e,a){return n=n.scaleNonUniform(e,a),c.call(t,e,a)};var i=t.rotate;t.rotate=function(e){return n=n.rotate(180*e/Math.PI),i.call(t,e)};var s=t.translate;t.translate=function(e,a){return n=n.translate(e,a),s.call(t,e,a)};var u=t.transform;t.transform=function(a,r,o,c,i,s){var l=e.createSVGMatrix();return l.a=a,l.b=r,l.c=o,l.d=c,l.e=i,l.f=s,n=n.multiply(l),u.call(t,a,r,o,c,i,s)};var l=t.setTransform;t.setTransform=function(e,a,r,o,c,i){return n.a=e,n.b=a,n.c=r,n.d=o,n.e=c,n.f=i,l.call(t,e,a,r,o,c,i)};var f=e.createSVGPoint();t.transformedPoint=function(t,e){return f.x=t,f.y=e,f.matrixTransform(n.inverse())}}(i);var s=i.scale,u=[],l=[],f=[],d=[],v=0,p=0,h=0;function g(){var r=i.transformedPoint(0,0),o=i.transformedPoint(n.width,n.height);if(i.clearRect(r.x,r.y,o.x-r.x,o.y-r.y),c){i.font="70px Calibri",i.fillText(e.text,0,70,1e3);new Array;for(var g=0;g<1e3;g++)for(var m=0;m<1e3;m++)if(255==i.getImageData(g,m,1,1).data[3]){u.push([g,m]),l.push(g),f.push(m);var x=w(0,t.length-1);d.push(x)}var b=Math.max.apply(null,l),j=Math.max.apply(null,f),y=Math.min.apply(null,f);v=document.body.clientHeight-(j*(3e3/b*(document.body.clientWidth/3168))+y*(3e3/b*(document.body.clientWidth/3168)))-50,c=!1,s=3e3/b*(document.body.clientWidth/3168),s,p=u[0][0]*s,h=u[0][1]*s}function w(t,e){return Math.floor(Math.random()*(e-t+1))+t}for(i.clearRect(r.x,r.y,o.x-r.x,o.y-r.y),g=0;g<u.length;g++)i.drawImage(a[d[g]],u[g][0]*s,u[g][1]*s+v/2,s,s)}n.addEventListener("dblclick",(function(){n.getBoundingClientRect();for(var e=i.transformedPoint(x,b),a=0;a<u.length;a++)e.x<u[a][0]*s+s&&e.x>u[a][0]*s&&e.y<u[a][1]*s+v/2+s&&e.y>u[a][1]*s+v/2&&window.open(t[d[a]].url,"_blank")}));var m,x=n.width/2,b=n.height/2;n.addEventListener("mousedown",(function(t){document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",x=t.offsetX||t.pageX-n.offsetLeft,b=t.offsetY||t.pageY-n.offsetTop,m=i.transformedPoint(x,b),x-p,b-h,!1}),!1),n.addEventListener("mousemove",(function(t){if(x=t.offsetX||t.pageX-n.offsetLeft,b=t.offsetY||t.pageY-n.offsetTop,!0,m){var e=i.transformedPoint(x,b);i.translate(e.x-m.x,e.y-m.y),g(),clearTimeout(o)}}),!1),n.addEventListener("mouseup",(function(t){m=null}),!1);var j=function(t){var e=t.wheelDelta?t.wheelDelta/40:t.detail?-t.detail:0;return e&&function(t){var e=i.transformedPoint(x,b);i.translate(e.x,e.y);var n=Math.pow(1.1,t);n,i.scale(n,n),i.translate(-e.x,-e.y),g(),clearTimeout(o)}(e),clearTimeout(o),t.preventDefault()&&!1};n.addEventListener("DOMMouseScroll",j,!1),n.addEventListener("mousewheel",j,!1),g(),o=setTimeout(g,500)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.getData;(0,t.getText)(),e()}},{key:"render",value:function(){return Object(_.jsx)(C,{})}}]),n}(a.Component)),L=Object(i.connect)((function(t,e){var n=t.data;return{data:n.data,text:n.text,location:t.router.location}}),(function(t,e){return{getData:function(){t(w.getDATA())},getText:function(){t(w.getTEXT())}}}))(I),R=(n(67),function(t,e){return Object(_.jsx)("div",{children:Object(_.jsx)("canvas",{})})}),W=(n.p,function(t){Object(k.a)(n,t);var e=Object(Y.a)(n);function n(){var t;Object(A.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={loading:!0,loading2:!0,idx:1,page:[1],maxpage:0},t.componentWillReceiveProps=function(e){t.props.data,t.props.postXY;e.data&&e.text&&(console.log(e.data),t.draw(e.data,e.text))},t}return Object(X.a)(n,[{key:"draw",value:function(t,e){var n=this.props.postXY,a=document.getElementsByTagName("canvas")[0];a.width=document.body.clientWidth,a.height=window.innerHeight;for(var r=new Array,o=0;o<t.length;o++)r[o]=new Image,r[o].src=t[o].image;console.log(r);var c=!0,i=a.getContext("2d");!function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=e.createSVGMatrix();t.getTransform=function(){return n};var a=[],r=t.save;t.save=function(){return a.push(n.translate(0,0)),r.call(t)};var o=t.restore;t.restore=function(){return n=a.pop(),o.call(t)};var c=t.scale;t.scale=function(e,a){return n=n.scaleNonUniform(e,a),c.call(t,e,a)};var i=t.rotate;t.rotate=function(e){return n=n.rotate(180*e/Math.PI),i.call(t,e)};var s=t.translate;t.translate=function(e,a){return n=n.translate(e,a),s.call(t,e,a)};var u=t.transform;t.transform=function(a,r,o,c,i,s){var l=e.createSVGMatrix();return l.a=a,l.b=r,l.c=o,l.d=c,l.e=i,l.f=s,n=n.multiply(l),u.call(t,a,r,o,c,i,s)};var l=t.setTransform;t.setTransform=function(e,a,r,o,c,i){return n.a=e,n.b=a,n.c=r,n.d=o,n.e=c,n.f=i,l.call(t,e,a,r,o,c,i)};var f=e.createSVGPoint();t.transformedPoint=function(t,e){return f.x=t,f.y=e,f.matrixTransform(n.inverse())}}(i);i.scale;var s=[],u=[],l=[];function f(t){var e=i.transformedPoint(0,0),r=i.transformedPoint(a.width,a.height);i.clearRect(e.x,e.y,r.x-e.x,r.y-e.y),i.font="70px Calibri",i.fillText(t,0,70,1e3);var o=new Array;if(c){for(var f=0;f<1e3;f++)for(var d=0;d<1e3;d++)if(255==i.getImageData(f,d,1,1).data[3]){var v=new Object;v.x=f,v.y=d,o.push(v),s.push([f,d]),u.push(f),l.push(d)}console.log(o),n(o),c=!1}}f(e.text),f("\uc138\ud305 \uc644\ub8cc")}},{key:"componentDidMount",value:function(){var t=this.props,e=t.getData;(0,t.getText)(),e()}},{key:"render",value:function(){return Object(_.jsx)(R,{})}}]),n}(a.Component)),N=Object(i.connect)((function(t,e){var n=t.data;return{data:n.data,text:n.text,location:t.router.location}}),(function(t,e){return{getData:function(){t(w.getDATA())},getText:function(){t(w.getTEXT())},postXY:function(e){t(w.postXY(e))}}}))(W),G=function(t){return Object(_.jsxs)(M.c,{children:[Object(_.jsx)(M.a,{exact:!0,path:"/setting",component:N}),Object(_.jsx)(M.a,{path:"/",component:L})]})},V=Object(M.e)(Object(i.connect)()((function(t){return[Object(_.jsx)(G,{},1)]}))),U=function(t){return Object(_.jsx)(V,Object(p.a)({},t))},B=Object(i.connect)((function(t,e){return{pathname:t.router.location.pathname}}))(U);o.a.render(Object(_.jsxs)(i.Provider,{store:D,children:[Object(_.jsxs)(c.a,{children:[Object(_.jsx)("title",{children:"0isohee.com"}),Object(_.jsx)("meta",{name:"description",content:"0isohee","data-react-helmet":"true"})]}),Object(_.jsx)(l.a,{history:S,children:Object(_.jsx)(B,{})})]}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.1730243e.chunk.js.map