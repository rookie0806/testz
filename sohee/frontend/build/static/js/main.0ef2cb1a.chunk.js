(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){t.exports={navigation:"styles_navigation__2uQRf"}},67:function(t,e,n){t.exports={navigation:"styles_navigation__346x3"}},68:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(14),o=n.n(r),c=n(29),i=n(5),u=n(10),s=n(28),l=(n(33),n(11)),f=n(36),d=n.n(f),v=n(34),h=n(9),p="SET_DATA",g="SET_TEXT",m="SET_XY";var x={};function y(t,e){var n=e.data;return Object(h.a)(Object(h.a)({},t),{},{data:n})}function b(t,e){var n=e.text;return Object(h.a)(Object(h.a)({},t),{},{text:n})}function j(t,e){var n=e.xy;return Object(h.a)(Object(h.a)({},t),{},{xy:n})}var O={getDATA:function(){return function(t,e){fetch("/crawl/getData/",{}).then((function(t){return t.json()})).then((function(e){t({type:p,data:e})})).catch((function(t){return console.log(t)}))}},getXY:function(){return function(t,e){fetch("/crawl/getXY/",{}).then((function(t){return t.json()})).then((function(e){t({type:m,xy:e})})).catch((function(t){return console.log(t)}))}},getTEXT:function(){return function(t,e){fetch("/crawl/getToWrite/",{}).then((function(t){return t.json()})).then((function(e){t({type:g,text:e})})).catch((function(t){return console.log(t)}))}},postXY:function(t){var e=function(t){var e=null;if(document.cookie){var n=document.cookie.split(escape(t)+"=");if(n.length>=2){var a=n[1].split(";");e=unescape(a[0])}}return e}("csrftoken");return console.log(e),console.log(JSON.stringify({data:t})),function(n,a){fetch("/crawl/setsoheeXY/",{method:"POST",headers:{"X-CSRFTOKEN":e,"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(t){t.message&&console.log(t.message)}))}}},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return y(t,e);case g:return b(t,e);case m:return j(t,e);default:return t}},T=n(35),S=d()(),X=[v.a,Object(s.a)(S)];console.log(S);var E=Object(u.combineReducers)({data:w,i18nState:T.i18nState,router:Object(l.b)(S)}),P=function(t){return Object(u.createStore)(E,u.applyMiddleware.apply(void 0,X))}(),M=(n(63),n(8)),D=(n(64),n(15)),Y=n(16),k=n(18),A=n(17),_=(n(65),n(1)),N=function(t,e){return Object(_.jsx)("div",{children:Object(_.jsx)("canvas",{})})},R=(n.p,function(t){Object(k.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(D.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={loading:!0,loading2:!0,idx:1,page:[1],maxpage:0},t.componentWillReceiveProps=function(e){t.props.data;e.data&&e.xy&&(console.log(e.data,"dd"),console.log(e.xy,"xx"),t.draw(e.data,e.xy))},t}return Object(Y.a)(n,[{key:"draw",value:function(t,e){var n=document.getElementsByTagName("canvas")[0];n.width=document.body.clientWidth,n.height=window.innerHeight;for(var a=new Array,r=0;r<t.length;r++)a[r]=new Image,a[r].src=t[r].image;console.log(a);var o="",c=!0,i=n.getContext("2d");!function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=e.createSVGMatrix();t.getTransform=function(){return n};var a=[],r=t.save;t.save=function(){return a.push(n.translate(0,0)),r.call(t)};var o=t.restore;t.restore=function(){return n=a.pop(),o.call(t)};var c=t.scale;t.scale=function(e,a){return n=n.scaleNonUniform(e,a),c.call(t,e,a)};var i=t.rotate;t.rotate=function(e){return n=n.rotate(180*e/Math.PI),i.call(t,e)};var u=t.translate;t.translate=function(e,a){return n=n.translate(e,a),u.call(t,e,a)};var s=t.transform;t.transform=function(a,r,o,c,i,u){var l=e.createSVGMatrix();return l.a=a,l.b=r,l.c=o,l.d=c,l.e=i,l.f=u,n=n.multiply(l),s.call(t,a,r,o,c,i,u)};var l=t.setTransform;t.setTransform=function(e,a,r,o,c,i){return n.a=e,n.b=a,n.c=r,n.d=o,n.e=c,n.f=i,l.call(t,e,a,r,o,c,i)};var f=e.createSVGPoint();t.transformedPoint=function(t,e){return f.x=t,f.y=e,f.matrixTransform(n.inverse())}}(i);var u=i.scale,s=[],l=[],f=[],d=[],v=0,h=0,p=0;function g(){var r=i.transformedPoint(0,0),o=i.transformedPoint(n.width,n.height);if(i.clearRect(r.x,r.y,o.x-r.x,o.y-r.y),c){for(var g=0;g<e.length;g++){s.push([e[g].x,e[g].y]),l.push(e[g].x),f.push(e[g].y);var m=j(0,t.length-1);d.push(m)}var x=Math.max.apply(null,l),y=Math.max.apply(null,f),b=Math.min.apply(null,f);v=document.body.clientHeight-(y*(3e3/x*(document.body.clientWidth/3168))+b*(3e3/x*(document.body.clientWidth/3168)))-50,c=!1,u=3e3/x*(document.body.clientWidth/3168),u,h=s[0][0]*u,p=s[0][1]*u}function j(t,e){return Math.floor(Math.random()*(e-t+1))+t}for(console.log(s,"Zxczxczx"),i.clearRect(r.x,r.y,o.x-r.x,o.y-r.y),g=0;g<s.length;g++)i.drawImage(a[d[g]],s[g][0]*u,s[g][1]*u+v/2,u,u)}n.addEventListener("dblclick",(function(){n.getBoundingClientRect();for(var e=i.transformedPoint(x,y),a=0;a<s.length;a++)e.x<s[a][0]*u+u&&e.x>s[a][0]*u&&e.y<s[a][1]*u+v/2+u&&e.y>s[a][1]*u+v/2&&window.open(t[d[a]].url,"_blank")}));var m,x=n.width/2,y=n.height/2;n.addEventListener("mousedown",(function(t){document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",x=t.offsetX||t.pageX-n.offsetLeft,y=t.offsetY||t.pageY-n.offsetTop,m=i.transformedPoint(x,y),x-h,y-p,!1}),!1),n.addEventListener("mousemove",(function(t){if(x=t.offsetX||t.pageX-n.offsetLeft,y=t.offsetY||t.pageY-n.offsetTop,!0,m){var e=i.transformedPoint(x,y);i.translate(e.x-m.x,e.y-m.y),g(),clearTimeout(o)}}),!1),n.addEventListener("mouseup",(function(t){m=null}),!1);var b=function(t){var e=t.wheelDelta?t.wheelDelta/40:t.detail?-t.detail:0;return e&&function(t){var e=i.transformedPoint(x,y);i.translate(e.x,e.y);var n=Math.pow(1.1,t);n,i.scale(n,n),i.translate(-e.x,-e.y),g(),clearTimeout(o)}(e),clearTimeout(o),t.preventDefault()&&!1};n.addEventListener("DOMMouseScroll",b,!1),n.addEventListener("mousewheel",b,!1),g(),o=setTimeout(g,500)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.getData;(0,t.getXY)(),e()}},{key:"render",value:function(){return Object(_.jsx)(N,{})}}]),n}(a.Component)),C=Object(i.connect)((function(t,e){var n=t.data;return{data:n.data,text:n.text,xy:n.xy,location:t.router.location}}),(function(t,e){return{getData:function(){t(O.getDATA())},getText:function(){t(O.getTEXT())},getXY:function(){t(O.getXY())}}}))(R),L=(n(67),function(t,e){return Object(_.jsx)("div",{children:Object(_.jsx)("canvas",{})})}),W=(n.p,function(t){Object(k.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(D.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={loading:!0,loading2:!0,idx:1,page:[1],maxpage:0},t.componentWillReceiveProps=function(e){t.props.data,t.props.postXY;e.data&&e.text&&(console.log(e.data),t.draw(e.data,e.text))},t}return Object(Y.a)(n,[{key:"draw",value:function(t,e){var n=this.props.postXY,a=document.getElementsByTagName("canvas")[0];a.width=document.body.clientWidth,a.height=window.innerHeight;for(var r=new Array,o=0;o<t.length;o++)r[o]=new Image,r[o].src=t[o].image;console.log(r);var c=!0,i=a.getContext("2d");!function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=e.createSVGMatrix();t.getTransform=function(){return n};var a=[],r=t.save;t.save=function(){return a.push(n.translate(0,0)),r.call(t)};var o=t.restore;t.restore=function(){return n=a.pop(),o.call(t)};var c=t.scale;t.scale=function(e,a){return n=n.scaleNonUniform(e,a),c.call(t,e,a)};var i=t.rotate;t.rotate=function(e){return n=n.rotate(180*e/Math.PI),i.call(t,e)};var u=t.translate;t.translate=function(e,a){return n=n.translate(e,a),u.call(t,e,a)};var s=t.transform;t.transform=function(a,r,o,c,i,u){var l=e.createSVGMatrix();return l.a=a,l.b=r,l.c=o,l.d=c,l.e=i,l.f=u,n=n.multiply(l),s.call(t,a,r,o,c,i,u)};var l=t.setTransform;t.setTransform=function(e,a,r,o,c,i){return n.a=e,n.b=a,n.c=r,n.d=o,n.e=c,n.f=i,l.call(t,e,a,r,o,c,i)};var f=e.createSVGPoint();t.transformedPoint=function(t,e){return f.x=t,f.y=e,f.matrixTransform(n.inverse())}}(i);i.scale;var u=[],s=[],l=[];function f(t){var e=i.transformedPoint(0,0),r=i.transformedPoint(a.width,a.height);i.clearRect(e.x,e.y,r.x-e.x,r.y-e.y),i.font="70px Calibri",i.fillText(t,0,70,1e3);var o=new Array;if(c){for(var f=0;f<1e3;f++)for(var d=0;d<1e3;d++)if(255==i.getImageData(f,d,1,1).data[3]){var v=new Object;v.x=f;v.y=d,o.push(v),u.push([f,d]),s.push(f),l.push(d)}console.log(o),n(o),c=!1}}f(e.text),f("\uc138\ud305 \uc644\ub8cc")}},{key:"componentDidMount",value:function(){var t=this.props,e=t.getData;(0,t.getText)(),e()}},{key:"render",value:function(){return Object(_.jsx)(L,{})}}]),n}(a.Component)),I=Object(i.connect)((function(t,e){var n=t.data;return{data:n.data,text:n.text,location:t.router.location}}),(function(t,e){return{getData:function(){t(O.getDATA())},getText:function(){t(O.getTEXT())},postXY:function(e){t(O.postXY(e))}}}))(W),G=function(t){return Object(_.jsxs)(M.c,{children:[Object(_.jsx)(M.a,{exact:!0,path:"/setting",component:I}),Object(_.jsx)(M.a,{path:"/",component:C})]})},V=Object(M.e)(Object(i.connect)()((function(t){return[Object(_.jsx)(G,{},1)]}))),U=function(t){return Object(_.jsx)(V,Object(h.a)({},t))},B=Object(i.connect)((function(t,e){return{pathname:t.router.location.pathname}}))(U);o.a.render(Object(_.jsxs)(i.Provider,{store:P,children:[Object(_.jsxs)(c.a,{children:[Object(_.jsx)("title",{children:"0isohee.com"}),Object(_.jsx)("meta",{name:"description",content:"0isohee","data-react-helmet":"true"})]}),Object(_.jsx)(l.a,{history:S,children:Object(_.jsx)(B,{})})]}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.0ef2cb1a.chunk.js.map