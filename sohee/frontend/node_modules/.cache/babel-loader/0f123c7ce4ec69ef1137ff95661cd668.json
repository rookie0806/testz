{"ast":null,"code":"var canvas = document.getElementsByTagName('canvas')[0];\ncanvas.width = document.body.clientWidth;\ncanvas.height = window.innerHeight;\nvar image1 = new Image();\nvar image2 = new Image();\nvar image3 = new Image();\nvar image4 = new Image();\nvar image5 = new Image();\nvar image6 = new Image();\nvar ball = new Image();\nvar first = true;\n\nwindow.onload = function () {\n  var ctx = canvas.getContext('2d');\n  trackTransforms(ctx);\n  var imagearray = [];\n  var maxarray_x = [];\n  var maxarray_y = [];\n  var randomimage = [];\n  var y = 0;\n  var zoomscale = 0;\n  var firstx = 0;\n  var gappos_x = 0;\n  var gappos_y = 0;\n  var firsty = 0;\n\n  function redraw() {\n    // Clear the entire canvas\n    var p1 = ctx.transformedPoint(0, 0);\n    var p2 = ctx.transformedPoint(canvas.width, canvas.height);\n    ctx.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y); // Alternatively:\n    // ctx.save();\n    // ctx.setTransform(1,0,0,1,0,0);\n    // ctx.clearRect(0,0,canvas.width,canvas.height);\n    // ctx.restore();\n\n    if (first) {\n      ctx.font = '70px Calibri';\n      ctx.fillText('Happy Birthday', 0, 70, 1000);\n\n      for (var i = 0; i < 1000; i++) {\n        for (var j = 0; j < 1000; j++) {\n          if (ctx.getImageData(i, j, 1, 1).data[3] == 255) {\n            //console.log(i,j);\n            imagearray.push([i, j]);\n            maxarray_x.push(i);\n            maxarray_y.push(j);\n            var randompick = makeRandom(1, 6);\n            randomimage.push(randompick);\n          }\n        }\n      }\n\n      max_x = Math.max.apply(null, maxarray_x);\n      max_y = Math.max.apply(null, maxarray_y);\n      min_y = Math.min.apply(null, maxarray_y);\n      y = document.body.clientHeight - (max_y * (3000 / max_x * (document.body.clientWidth / 3168)) + min_y * (3000 / max_x * (document.body.clientWidth / 3168))) - 50;\n      first = false;\n      scale = 3000 / max_x * (document.body.clientWidth / 3168);\n      zoomscale = scale;\n      firstx = imagearray[0][0] * scale;\n      firsty = imagearray[0][1] * scale;\n    }\n\n    ctx.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);\n\n    function makeRandom(min, max) {\n      var RandVal = Math.floor(Math.random() * (max - min + 1)) + min;\n      return RandVal;\n    }\n\n    console.log(lastX, lastY);\n\n    for (i = 0; i < imagearray.length; i++) {\n      if (randomimage[i] == 1) {\n        ctx.drawImage(image1, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n      } else if (randomimage[i] == 2) {\n        ctx.drawImage(image2, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n      } else if (randomimage[i] == 3) {\n        ctx.drawImage(image3, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n      } else if (randomimage[i] == 4) {\n        ctx.drawImage(image4, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n      } else if (randomimage[i] == 5) {\n        ctx.drawImage(image5, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n      } else if (randomimage[i] == 6) {\n        ctx.drawImage(image6, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n      }\n\n      if (i == 0) {\n        console.log(imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale);\n      }\n    }\n\n    if (zoomscale == scale) {\n      let timerId = setInterval(() => {\n        ctx.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y);\n\n        for (i = 0; i < 1000; i++) {\n          for (j = 0; j < 1000; j++) {\n            if (ctx.getImageData(i, j, 1, 1).data[3] == 255) {\n              //console.log(i,j);\n              imagearray.push([i, j]);\n              maxarray_x.push(i);\n              maxarray_y.push(j);\n              var randompick = makeRandom(1, 6);\n              randomimage.push(randompick);\n            }\n          }\n        }\n\n        for (i = 0; i < imagearray.length; i++) {\n          if (randomimage[i] == 1) {\n            ctx.drawImage(image1, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n          } else if (randomimage[i] == 2) {\n            ctx.drawImage(image2, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n          } else if (randomimage[i] == 3) {\n            ctx.drawImage(image3, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n          } else if (randomimage[i] == 4) {\n            ctx.drawImage(image4, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n          } else if (randomimage[i] == 5) {\n            ctx.drawImage(image5, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n          } else if (randomimage[i] == 6) {\n            ctx.drawImage(image6, imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale, scale);\n          }\n\n          if (i == 0) {\n            console.log(imagearray[i][0] * scale, imagearray[i][1] * scale + y / 2, scale);\n          }\n        }\n      }, 1000);\n    } else {\n      clearInterval(timerId);\n    } //\n\n  }\n\n  redraw();\n  canvas.addEventListener('dblclick', function () {\n    var rect = canvas.getBoundingClientRect();\n    var pt = ctx.transformedPoint(lastX, lastY);\n\n    for (i = 0; i < imagearray.length; i++) {\n      if (pt.x < imagearray[i][0] * scale + scale && pt.x > imagearray[i][0] * scale) {\n        if (pt.y < imagearray[i][1] * scale + y / 2 + scale && pt.y > imagearray[i][1] * scale + y / 2) {\n          if (randomimage[i] == 1) {\n            window.open(\"https://www.instagram.com/p/CP0UwV5l_au/\", '_blank');\n          } else if (randomimage[i] == 2) {\n            window.open(\"https://www.instagram.com/p/CPalK51lJyL/\", '_blank');\n          } else if (randomimage[i] == 3) {\n            window.open(\"https://www.instagram.com/p/CQDxvyxlgfT/\", '_blank');\n          } else if (randomimage[i] == 4) {\n            window.open(\"https://www.instagram.com/p/B8L65YjlWrF/\", '_blank');\n          } else if (randomimage[i] == 5) {\n            window.open(\"https://www.instagram.com/p/CEy7dMmFL75/\", '_blank');\n          } else if (randomimage[i] == 6) {\n            window.open(\"https://www.instagram.com/p/CS36-LeH7Fw/\", '_blank');\n          }\n        }\n      }\n    }\n  });\n  var lastX = canvas.width / 2,\n      lastY = canvas.height / 2;\n  var dragStart, dragged;\n  canvas.addEventListener('mousedown', function (evt) {\n    document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = 'none';\n    lastX = evt.offsetX || evt.pageX - canvas.offsetLeft;\n    lastY = evt.offsetY || evt.pageY - canvas.offsetTop;\n    dragStart = ctx.transformedPoint(lastX, lastY);\n    gappos_x = lastX - firstx;\n    gappos_y = lastY - firsty;\n    dragged = false;\n  }, false);\n  canvas.addEventListener('mousemove', function (evt) {\n    lastX = evt.offsetX || evt.pageX - canvas.offsetLeft;\n    lastY = evt.offsetY || evt.pageY - canvas.offsetTop;\n    dragged = true;\n\n    if (dragStart) {\n      var pt = ctx.transformedPoint(lastX, lastY);\n      ctx.translate(pt.x - dragStart.x, pt.y - dragStart.y);\n      redraw();\n    }\n  }, false);\n  canvas.addEventListener('mouseup', function (evt) {\n    dragStart = null;\n  }, false);\n  var scaleFactor = 1.1;\n\n  var zoom = function (clicks) {\n    var pt = ctx.transformedPoint(lastX, lastY);\n    ctx.translate(pt.x, pt.y);\n    var factor = Math.pow(scaleFactor, clicks);\n    zoomscale = zoomscale * factor;\n    ctx.scale(factor, factor);\n    ctx.translate(-pt.x, -pt.y);\n    redraw();\n  };\n\n  var handleScroll = function (evt) {\n    var delta = evt.wheelDelta ? evt.wheelDelta / 40 : evt.detail ? -evt.detail : 0;\n    if (delta) zoom(delta);\n    return evt.preventDefault() && false;\n  };\n\n  canvas.addEventListener('DOMMouseScroll', handleScroll, false);\n  canvas.addEventListener('mousewheel', handleScroll, false);\n};\n\nimage1.src = 'test1.jpg';\nimage1.href = 'https://www.instagram.com/p/CPalK51lJyL/';\nimage2.src = 'test2.jpg';\nimage3.src = 'test3.jpg';\nimage4.src = 'test4.jpg';\nimage5.src = 'test5.jpg';\nimage6.src = 'test6.jpg';\nball.src = 'http://phrogz.net/tmp/alphaball.png'; // Adds ctx.getTransform() - returns an SVGMatrix\n// Adds ctx.transformedPoint(x,y) - returns an SVGPoint\n\nfunction trackTransforms(ctx) {\n  var svg = document.createElementNS(\"http://www.w3.org/2000/svg\", 'svg');\n  var xform = svg.createSVGMatrix();\n\n  ctx.getTransform = function () {\n    return xform;\n  };\n\n  var savedTransforms = [];\n  var save = ctx.save;\n\n  ctx.save = function () {\n    savedTransforms.push(xform.translate(0, 0));\n    return save.call(ctx);\n  };\n\n  var restore = ctx.restore;\n\n  ctx.restore = function () {\n    xform = savedTransforms.pop();\n    return restore.call(ctx);\n  };\n\n  var scale = ctx.scale;\n\n  ctx.scale = function (sx, sy) {\n    xform = xform.scaleNonUniform(sx, sy);\n    return scale.call(ctx, sx, sy);\n  };\n\n  var rotate = ctx.rotate;\n\n  ctx.rotate = function (radians) {\n    xform = xform.rotate(radians * 180 / Math.PI);\n    return rotate.call(ctx, radians);\n  };\n\n  var translate = ctx.translate;\n\n  ctx.translate = function (dx, dy) {\n    xform = xform.translate(dx, dy);\n    return translate.call(ctx, dx, dy);\n  };\n\n  var transform = ctx.transform;\n\n  ctx.transform = function (a, b, c, d, e, f) {\n    var m2 = svg.createSVGMatrix();\n    m2.a = a;\n    m2.b = b;\n    m2.c = c;\n    m2.d = d;\n    m2.e = e;\n    m2.f = f;\n    xform = xform.multiply(m2);\n    return transform.call(ctx, a, b, c, d, e, f);\n  };\n\n  var setTransform = ctx.setTransform;\n\n  ctx.setTransform = function (a, b, c, d, e, f) {\n    xform.a = a;\n    xform.b = b;\n    xform.c = c;\n    xform.d = d;\n    xform.e = e;\n    xform.f = f;\n    return setTransform.call(ctx, a, b, c, d, e, f);\n  };\n\n  var pt = svg.createSVGPoint();\n\n  ctx.transformedPoint = function (x, y) {\n    pt.x = x;\n    pt.y = y;\n    return pt.matrixTransform(xform.inverse());\n  };\n}","map":{"version":3,"sources":["C:/Users/devgu/sohee/sohee/frontend/src/components/Main/test.js"],"names":["canvas","document","getElementsByTagName","width","body","clientWidth","height","window","innerHeight","image1","Image","image2","image3","image4","image5","image6","ball","first","onload","ctx","getContext","trackTransforms","imagearray","maxarray_x","maxarray_y","randomimage","y","zoomscale","firstx","gappos_x","gappos_y","firsty","redraw","p1","transformedPoint","p2","clearRect","x","font","fillText","i","j","getImageData","data","push","randompick","makeRandom","max_x","Math","max","apply","max_y","min_y","min","clientHeight","scale","RandVal","floor","random","console","log","lastX","lastY","length","drawImage","timerId","setInterval","clearInterval","addEventListener","rect","getBoundingClientRect","pt","open","dragStart","dragged","evt","style","mozUserSelect","webkitUserSelect","userSelect","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","translate","scaleFactor","zoom","clicks","factor","pow","handleScroll","delta","wheelDelta","detail","preventDefault","src","href","svg","createElementNS","xform","createSVGMatrix","getTransform","savedTransforms","save","call","restore","pop","sx","sy","scaleNonUniform","rotate","radians","PI","dx","dy","transform","a","b","c","d","e","f","m2","multiply","setTransform","createSVGPoint","matrixTransform","inverse"],"mappings":"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","sourcesContent":["\r\nvar canvas = document.getElementsByTagName('canvas')[0];\r\ncanvas.width = document.body.clientWidth ; canvas.height = window.innerHeight;\r\nvar image1 = new Image;\r\nvar image2 = new Image;\r\nvar image3 = new Image;\r\nvar image4 = new Image;\r\nvar image5 = new Image;\r\nvar image6 = new Image;\r\nvar ball   = new Image;\r\nvar first = true;\r\nwindow.onload = function(){\t\t\r\n    var ctx = canvas.getContext('2d');\r\n    trackTransforms(ctx);\r\n    var imagearray = [];\r\n    var maxarray_x = [];\r\n    var maxarray_y = [];\r\n    var randomimage = [];\r\n    var y = 0;\r\n    var zoomscale = 0;\r\n    var firstx = 0;\r\n    var gappos_x  = 0;\r\n    var gappos_y = 0;\r\n    var firsty = 0;\r\n    function redraw(){\r\n        // Clear the entire canvas\r\n        var p1 = ctx.transformedPoint(0,0);\r\n        var p2 = ctx.transformedPoint(canvas.width,canvas.height);\r\n        \r\n        ctx.clearRect(p1.x,p1.y,p2.x-p1.x,p2.y-p1.y);\r\n        \r\n        // Alternatively:\r\n        // ctx.save();\r\n        // ctx.setTransform(1,0,0,1,0,0);\r\n        // ctx.clearRect(0,0,canvas.width,canvas.height);\r\n        // ctx.restore();\r\n        if(first){\r\n            ctx.font= '70px Calibri';\r\n            ctx.fillText('Happy Birthday',0,70,1000);\r\n\r\n            for(var i=0;i<1000;i++){\r\n                for(var j=0;j<1000;j++){\r\n                    if(ctx.getImageData(i,j,1,1).data[3]==255){\r\n                        //console.log(i,j);\r\n                        imagearray.push([i,j]);\r\n                        maxarray_x.push(i);\r\n                        maxarray_y.push(j);\r\n                        var randompick = makeRandom(1,6);\r\n                        randomimage.push(randompick);\r\n                    }           \r\n                }\r\n            }\r\n            max_x = Math.max.apply(null,maxarray_x);\r\n            max_y = Math.max.apply(null,maxarray_y);\r\n            min_y = Math.min.apply(null,maxarray_y);\r\n            y = document.body.clientHeight- ((max_y*(3000/max_x*(document.body.clientWidth/3168)))+  (min_y*(3000/max_x*(document.body.clientWidth/3168)))) -50 ;\r\n            first=false;\r\n            scale = 3000/max_x*(document.body.clientWidth/3168);\r\n            zoomscale = scale;\r\n            firstx = imagearray[0][0]*scale;\r\n            firsty = imagearray[0][1]*scale;\r\n        }\r\n        \r\n        ctx.clearRect(p1.x,p1.y,p2.x-p1.x,p2.y-p1.y);\r\n        function makeRandom(min, max){\r\n            var RandVal = Math.floor(Math.random()*(max-min+1)) + min;\r\n            return RandVal;\r\n        }\r\n        console.log(lastX,lastY);\r\n        for(i=0;i<imagearray.length;i++)\r\n        {\r\n            if(randomimage[i]==1)\r\n            {\r\n                ctx.drawImage(image1,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n            }\r\n            else if(randomimage[i]==2){\r\n                ctx.drawImage(image2,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n            }\r\n            else if(randomimage[i]==3){\r\n                ctx.drawImage(image3,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n            }\r\n            else if(randomimage[i]==4){\r\n                ctx.drawImage(image4,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n            }\r\n            else if(randomimage[i]==5){\r\n                ctx.drawImage(image5,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n            }\r\n            else if(randomimage[i]==6){\r\n                ctx.drawImage(image6,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n            }\r\n            if(i==0){\r\n                console.log(imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale);\r\n            }\r\n        }\r\n        if(zoomscale==scale)\r\n        {\r\n            \r\n            let timerId = setInterval(() => {\r\n            ctx.clearRect(p1.x,p1.y,p2.x-p1.x,p2.y-p1.y);\r\n            for(i=0;i<1000;i++){\r\n                for(j=0;j<1000;j++){\r\n                    if(ctx.getImageData(i,j,1,1).data[3]==255){\r\n                        //console.log(i,j);\r\n                        imagearray.push([i,j]);\r\n                        maxarray_x.push(i);\r\n                        maxarray_y.push(j);\r\n                        var randompick = makeRandom(1,6);\r\n                        randomimage.push(randompick);\r\n                    }           \r\n                }\r\n            }\r\n            for(i=0;i<imagearray.length;i++)\r\n            {\r\n                if(randomimage[i]==1)\r\n                {\r\n                    ctx.drawImage(image1,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n                }\r\n                else if(randomimage[i]==2){\r\n                    ctx.drawImage(image2,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n                }\r\n                else if(randomimage[i]==3){\r\n                    ctx.drawImage(image3,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n                }\r\n                else if(randomimage[i]==4){\r\n                    ctx.drawImage(image4,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n                }\r\n                else if(randomimage[i]==5){\r\n                    ctx.drawImage(image5,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n                }\r\n                else if(randomimage[i]==6){\r\n                    ctx.drawImage(image6,imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale,scale);\r\n                }\r\n                if(i==0){\r\n                    console.log(imagearray[i][0]*scale,imagearray[i][1]*scale+y/2,scale);\r\n                }\r\n            }\r\n            }, 1000);\r\n\r\n        }\r\n        else{\r\n            clearInterval(timerId)\r\n        }\r\n            \r\n        //\r\n    }\r\n    redraw();\r\n    canvas.addEventListener('dblclick', function(){ \r\n\r\n        var rect = canvas.getBoundingClientRect();\r\n        var pt = ctx.transformedPoint(lastX,lastY);\r\n        for(i=0;i<imagearray.length;i++)\r\n        {\r\n            if(pt.x<imagearray[i][0]*scale+scale && pt.x>imagearray[i][0]*scale){\r\n                if(pt.y<imagearray[i][1]*scale+y/2+scale && pt.y>imagearray[i][1]*scale+y/2){\r\n                    \r\n                    if(randomimage[i]==1)\r\n                    {\r\n                        window.open(\"https://www.instagram.com/p/CP0UwV5l_au/\", '_blank')\r\n                    }\r\n                    else if(randomimage[i]==2){\r\n                        window.open(\"https://www.instagram.com/p/CPalK51lJyL/\", '_blank')\r\n                    }\r\n                    else if(randomimage[i]==3){\r\n                        window.open(\"https://www.instagram.com/p/CQDxvyxlgfT/\", '_blank');\r\n                    }\r\n                    else if(randomimage[i]==4){\r\n                        window.open(\"https://www.instagram.com/p/B8L65YjlWrF/\", '_blank');\r\n                    }\r\n                    else if(randomimage[i]==5){\r\n                        window.open(\"https://www.instagram.com/p/CEy7dMmFL75/\", '_blank');\r\n                    }\r\n                    else if(randomimage[i]==6){\r\n                        window.open(\"https://www.instagram.com/p/CS36-LeH7Fw/\", '_blank');\r\n                    }\r\n                        \r\n                    \r\n                }\r\n            }\r\n        }\r\n\r\n    });\r\n    var lastX=canvas.width/2, lastY=canvas.height/2;\r\n    var dragStart,dragged;\r\n    canvas.addEventListener('mousedown',function(evt){\r\n        document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = 'none';\r\n        lastX = evt.offsetX || (evt.pageX - canvas.offsetLeft);\r\n        lastY = evt.offsetY || (evt.pageY - canvas.offsetTop);\r\n        dragStart = ctx.transformedPoint(lastX,lastY);\r\n        gappos_x = lastX - firstx;\r\n        gappos_y = lastY - firsty;\r\n        dragged = false;\r\n    },false);\r\n    canvas.addEventListener('mousemove',function(evt){\r\n        lastX = evt.offsetX || (evt.pageX - canvas.offsetLeft);\r\n        lastY = evt.offsetY || (evt.pageY - canvas.offsetTop);\r\n        dragged = true;\r\n        if (dragStart){\r\n            var pt = ctx.transformedPoint(lastX,lastY);\r\n            ctx.translate(pt.x-dragStart.x,pt.y-dragStart.y);\r\n            redraw();\r\n        }\r\n    },false);\r\n    canvas.addEventListener('mouseup',function(evt){\r\n        dragStart = null;\r\n\r\n    },false);\r\n\r\n    var scaleFactor = 1.1;\r\n    \r\n    var zoom = function(clicks){\r\n        var pt = ctx.transformedPoint(lastX,lastY);\r\n        ctx.translate(pt.x,pt.y);\r\n        var factor = Math.pow(scaleFactor,clicks);\r\n        zoomscale = zoomscale * factor;\r\n        ctx.scale(factor,factor);\r\n        ctx.translate(-pt.x,-pt.y);\r\n        redraw();\r\n    }\r\n    \r\n    var handleScroll = function(evt){\r\n        \r\n        var delta = evt.wheelDelta ? evt.wheelDelta/40 : evt.detail ? -evt.detail : 0;\r\n        \r\n        if (delta) zoom(delta);\r\n        \r\n        return evt.preventDefault() && false;\r\n        \r\n    };\r\n    canvas.addEventListener('DOMMouseScroll',handleScroll,false);\r\n    canvas.addEventListener('mousewheel',handleScroll,false);\r\n};\r\nimage1.src = 'test1.jpg';\r\nimage1.href = 'https://www.instagram.com/p/CPalK51lJyL/';\r\nimage2.src = 'test2.jpg';\r\nimage3.src = 'test3.jpg';\r\nimage4.src = 'test4.jpg';\r\nimage5.src = 'test5.jpg';\r\nimage6.src = 'test6.jpg';\r\nball.src   = 'http://phrogz.net/tmp/alphaball.png';\r\n\r\n// Adds ctx.getTransform() - returns an SVGMatrix\r\n// Adds ctx.transformedPoint(x,y) - returns an SVGPoint\r\nfunction trackTransforms(ctx){\r\n    var svg = document.createElementNS(\"http://www.w3.org/2000/svg\",'svg');\r\n    var xform = svg.createSVGMatrix();\r\n    ctx.getTransform = function(){ return xform; };\r\n    \r\n    var savedTransforms = [];\r\n    var save = ctx.save;\r\n    ctx.save = function(){\r\n        savedTransforms.push(xform.translate(0,0));\r\n        return save.call(ctx);\r\n    };\r\n    var restore = ctx.restore;\r\n    ctx.restore = function(){\r\n        xform = savedTransforms.pop();\r\n        return restore.call(ctx);\r\n    };\r\n\r\n    var scale = ctx.scale;\r\n    ctx.scale = function(sx,sy){\r\n        xform = xform.scaleNonUniform(sx,sy);\r\n        return scale.call(ctx,sx,sy);\r\n    };\r\n    var rotate = ctx.rotate;\r\n    ctx.rotate = function(radians){\r\n        xform = xform.rotate(radians*180/Math.PI);\r\n        return rotate.call(ctx,radians);\r\n    };\r\n    var translate = ctx.translate;\r\n    ctx.translate = function(dx,dy){\r\n        xform = xform.translate(dx,dy);\r\n        return translate.call(ctx,dx,dy);\r\n    };\r\n    var transform = ctx.transform;\r\n    ctx.transform = function(a,b,c,d,e,f){\r\n        var m2 = svg.createSVGMatrix();\r\n        m2.a=a; m2.b=b; m2.c=c; m2.d=d; m2.e=e; m2.f=f;\r\n        xform = xform.multiply(m2);\r\n        return transform.call(ctx,a,b,c,d,e,f);\r\n    };\r\n    var setTransform = ctx.setTransform;\r\n    ctx.setTransform = function(a,b,c,d,e,f){\r\n        xform.a = a;\r\n        xform.b = b;\r\n        xform.c = c;\r\n        xform.d = d;\r\n        xform.e = e;\r\n        xform.f = f;\r\n        return setTransform.call(ctx,a,b,c,d,e,f);\r\n    };\r\n    var pt  = svg.createSVGPoint();\r\n    ctx.transformedPoint = function(x,y){\r\n        pt.x=x; pt.y=y;\r\n        return pt.matrixTransform(xform.inverse());\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}